@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  *,
  *::before,
  *::after {
    @apply box-border;
  }

  html,
  body {
    @apply m-0 p-0;
  }

  body {
    @apply flex min-h-screen flex-col bg-slate-100 font-sans leading-relaxed text-slate-900;
  }

  a {
    @apply text-inherit no-underline transition duration-150 ease-in-out;
  }

  a:hover,
  a:focus-visible {
    @apply underline;
  }

  button,
  input,
  textarea {
    @apply font-sans;
  }

  img {
    @apply block h-auto max-w-full;
  }
}

@layer components {
  .wrapper {
    @apply mx-auto w-full max-w-5xl px-6;
  }

  .site-header {
    @apply w-full border-b border-slate-200 bg-white/80 backdrop-blur;
  }

  .site-header__inner {
    @apply flex flex-wrap items-center justify-between gap-4 py-4;
  }

  .brand {
    @apply text-sm font-semibold uppercase tracking-[0.2em] text-slate-600;
  }

  .site-nav__list {
    @apply m-0 flex list-none flex-wrap items-center gap-3 p-0;
  }

  .site-nav__link,
  .site-nav__button {
    @apply inline-flex items-center justify-center gap-2 rounded-full border border-transparent px-3 py-2 text-sm font-medium text-slate-600 transition hover:text-slate-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500;
  }

  .site-nav__link {
    @apply hover:bg-slate-100;
  }

  .site-nav__link[aria-current="page"] {
    @apply border-slate-200 bg-slate-100 text-slate-900;
  }

  .site-nav__button {
    @apply border-slate-200 bg-white text-slate-700 hover:bg-slate-100;
  }

  .site-nav__user {
    @apply text-xs uppercase tracking-[0.3em] text-slate-500;
  }

  .badge {
    @apply inline-flex items-center justify-center rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700;
  }

  main {
    @apply flex-1 py-10;
  }

  .stack {
    @apply flex flex-col gap-8;
  }

  .hero-card,
  .section {
    @apply rounded-2xl border border-slate-200 bg-white p-6 shadow-sm;
  }

  .listing-card {
    @apply flex flex-col gap-4 rounded-2xl border border-slate-200 bg-white p-5 shadow-sm;
  }

  .hero-card > *:last-child,
  .section > *:last-child {
    @apply mb-0;
  }

  .page-title {
    @apply text-3xl font-semibold text-slate-900 md:text-4xl;
  }

  .page-lede {
    @apply text-base text-slate-600;
  }

  .eyebrow {
    @apply mb-3 text-xs font-semibold uppercase tracking-[0.35em] text-slate-500;
  }

  .search-form {
    @apply mt-4;
  }

  .search-form__fields {
    @apply flex flex-wrap gap-3;
  }

  .search-form input[type="search"] {
    @apply min-w-[220px] flex-1 rounded-lg border border-slate-300 bg-white px-3 py-2 text-base shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200;
  }

  .button {
    @apply inline-flex items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:cursor-not-allowed disabled:opacity-60;
  }

  .button--outline {
    @apply border border-slate-300 bg-white text-slate-700 hover:bg-slate-100;
  }

  .section__actions {
    @apply mt-6 flex flex-wrap gap-3;
  }

  .section__header {
    @apply mb-5 flex flex-wrap items-center justify-between gap-3;
  }

  .section__status {
    @apply text-sm text-slate-600;
  }

  .section__status[data-tone="error"] {
    @apply text-red-600;
  }

  .section__status[data-tone="warning"] {
    @apply text-amber-600;
  }

  .topics {
    @apply mt-5 flex flex-wrap gap-2;
  }

  .topic-pill {
    @apply inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-600;
  }

  .form {
    @apply mt-6 flex flex-col gap-5;
  }

  .form label span {
    @apply mb-2 block text-sm font-semibold text-slate-700;
  }

  .form input,
  .form textarea {
    @apply w-full rounded-lg border border-slate-300 bg-white px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200;
  }

  .form textarea {
    @apply min-h-[160px];
  }

  .form__checkbox {
    @apply flex items-center gap-2 text-sm text-slate-600;
  }

  .form__checkbox input {
    @apply w-auto;
  }

  .form__status {
    @apply mt-2 rounded-lg border border-slate-200 bg-slate-50 px-4 py-2 text-sm text-slate-600;
  }

  .form__status--error {
    @apply border-red-200 bg-red-50 text-red-700;
  }

  .form__status--success {
    @apply border-emerald-200 bg-emerald-50 text-emerald-700;
  }

  .hero-card--listing {
    @apply grid gap-6;
  }

  .hero-card--left {
    @apply text-left;
  }

  .hero-card__media {
    @apply flex min-h-[200px] items-center justify-center overflow-hidden rounded-xl bg-slate-100;
  }

  .hero-card__media img[hidden] {
    display: none;
  }

  .hero-card__body {
    @apply flex flex-col gap-4;
  }

  .listing-list {
    @apply grid list-none gap-4 p-0;
  }

  .listing-card__header {
    @apply flex flex-col gap-1;
  }

  .listing-card__title {
    @apply m-0 text-lg font-semibold text-slate-900;
  }

  .listing-card__title a {
    @apply no-underline transition hover:text-indigo-600 hover:underline;
  }

  .listing-card__seller {
    @apply m-0 text-sm text-slate-500;
  }

  .listing-card__description {
    @apply m-0 text-base text-slate-600;
  }

  .listing-card__meta {
    @apply flex flex-wrap gap-3 text-sm text-slate-500;
  }

  .listing-card__meta--stack {
    @apply flex-col items-start;
  }

  .listing-card--empty {
    @apply text-center text-sm text-slate-500;
  }

  .listing-card__media {
    @apply aspect-[4/3] overflow-hidden rounded-xl bg-slate-100;
  }

  .listing-card__body {
    @apply flex flex-col gap-3;
  }

  .listing-bids {
    @apply flex list-none flex-col gap-3 p-0;
  }

  .listing-bid {
    @apply flex flex-wrap justify-between gap-2 rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700;
  }

  .listing-bid--empty {
    @apply justify-center text-slate-500;
  }

  .profile__credits {
    @apply font-semibold;
  }

  .site-footer {
    @apply border-t border-slate-200 bg-white;
  }

  .site-footer__inner {
    @apply flex items-center justify-center py-6 text-sm text-slate-500;
  }

  .bid-summary {
    @apply flex flex-wrap items-baseline justify-between gap-3 text-sm text-slate-600;
  }

  .bid-summary__meta {
    @apply flex flex-wrap gap-3;
  }

  .bid-notice {
    @apply rounded-lg border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600;
  }

  .bid-notice[data-tone="warning"] {
    @apply border-amber-200 bg-amber-50 text-amber-700;
  }

  .bid-notice[data-tone="error"] {
    @apply border-red-200 bg-red-50 text-red-700;
  }

  .bid-notice[data-tone="success"] {
    @apply border-emerald-200 bg-emerald-50 text-emerald-700;
  }

  .bid-form {
    @apply mt-4 flex flex-col gap-4;
  }

  .bid-form__fields {
    @apply flex flex-wrap gap-3;
  }

  .bid-form__field {
    @apply min-w-[200px] flex-1;
  }

  .bid-form__help {
    @apply text-sm text-slate-500;
  }

  .pagination {
    @apply mt-6 flex flex-wrap items-center justify-between gap-3;
  }

  .pagination__status {
    @apply text-sm text-slate-600;
  }

  .pagination__actions {
    @apply flex items-center gap-2;
  }

  .pagination__button {
    @apply inline-flex items-center justify-center gap-2 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:cursor-not-allowed disabled:opacity-60;
  }

  @media (min-width: 720px) {
    .hero-card--listing {
      grid-template-columns: minmax(0, 320px) minmax(0, 1fr);
      align-items: start;
    }
  }

  @media (min-width: 640px) {
    .listing-list {
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }
  }
}

@layer utilities {
  .section__status[data-tone="success"] {
    @apply text-emerald-600;
  }
}
